// ================================================================================================ //
// ==                                                                                            == //
// ==                                    CUnitTestFrame.h.inl                                    == //
// ==                                                                                            == //
// == ------------------------------------------------------------------------------------------ == //
// ==                                                                                            == //
// ==   Author               : v.m. ( vincent_ma0001@hotmail.com )                               == //
// ==   Version              : 1.0.0.0                                                           == //
// ==   Create Time          : 2020-10-03 16:03:01                                               == //
// ==   Modify Time          : 2020-10-29 12:50:05                                               == //
// ==   Issue  List          :                                                                   == //
// ==   Change List          :                                                                   == //
// ==     [    0.0.0.0     ] - Basic version                                                     == //
// ==                                                                                            == //
// == ------------------------------------------------------------------------------------------ == //
// ==                                                                                            == //
// ==   Copyright(c) : This file has copyrighted by v.m., the all right will been reserved!      == //
// ==                                                                                            == //
// ================================================================================================ //

#ifndef  __CUNITTESTFRAME_H_INL__
#define  __CUNITTESTFRAME_H_INL__

// ================================================================================================ //
// [ CUnit realization ] {{{

// ================================================================================================ //
// ==  Class CUnit Construct && Destruct realization                                             == //
// ================================================================================================ //
// [ Class CUnit Construct && Destruct realization ] {{{

// ================================================================================================ //
// ==  Methord : CUnit::CUnit()                                                                  == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Construct define
inline vm::CUnit::CUnit( const tchar* const cpName )
// {{{
{
    // verify input
    _VERIFY_( CUnit::CUnit(), cpName );

    // Copy input name to name buffer
    vm::v_strcpy( mszName, sizeof(mszName), cpName );
}
// }}} End of func CUnit::CUnit()
// ================================================================================================ //

// ================================================================================================ //
// ==  Methord : virtual CUnit::CUnit()                                                          == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Destruct define
inline vm::CUnit::~CUnit(  )
// {{{
{
}
// }}} End of func CUnit::~CUnit()
// ================================================================================================ //

// ================================================================================================ //
// ==  Methord : CUnit::CUnit()                                                                  == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Copy construct define
inline vm::CUnit::CUnit( const CUnit &obj )
// {{{
{
    *this = obj;
}
// }}} End of func CUnit::~CUnit()
// ================================================================================================ //

// }}} ![ Class CUnit Construct && Destruct realization ]
// ================================================================================================ //


// ================================================================================================ //
// ==  Class CUnit operator realization                                                          == //
// ================================================================================================ //
// [ Class CUnit operator realization ] {{{

// ================================================================================================ //
// ==  Methord : CUnit::operator = ()                                                            == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Assignment operation
// ==  Return  : CUnit&           - [O] this object
inline vm::CUnit& vm::CUnit::operator = ( const CUnit &obj )
// {{{
{
    return *this;
}
// }}} End of func CUnit::~CUnit()
// ================================================================================================ //

// }}} ![ Class CUnit operator realization ]
// ================================================================================================ //

// }}} ! CUnit realization
// ================================================================================================ //

// ================================================================================================ //
// [ CUnitTestFrame realization ] {{{

// ================================================================================================ //
// ==  Class CUnitTestFrame Construct && Destruct realization                                    == //
// ================================================================================================ //
// [ Class CUnitTestFrame Construct && Destruct realization ] {{{

// ================================================================================================ //
// ==  Methord : CUnitTestFrame::CUnitTestFrame()                                                == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Construct define
inline vm::CUnitTestFrame::CUnitTestFrame(  )
// {{{
{
}
// }}} End of func CUnitTestFrame::CUnitTestFrame()
// ================================================================================================ //

// ================================================================================================ //
// ==  Methord : virtual CUnitTestFrame::CUnitTestFrame()                                        == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Destruct define
inline vm::CUnitTestFrame::~CUnitTestFrame(  )
// {{{
{
    tListItor loIter = mListUnits.begin();
    for (; loIter != mListUnits.end(); loIter++)
    {
        CUnit* lpFunc = (*loIter);
        delete lpFunc;
        (*loIter) = nullptr;
    }
}
// }}} End of func CUnitTestFrame::~CUnitTestFrame()
// ================================================================================================ //

// ================================================================================================ //
// ==  Methord : CUnitTestFrame::CUnitTestFrame()                                                == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Copy construct define
inline vm::CUnitTestFrame::CUnitTestFrame( const CUnitTestFrame &obj )
// {{{
{
    *this = obj;
}
// }}} End of func CUnitTestFrame::~CUnitTestFrame()
// ================================================================================================ //

// }}} ![ Class CUnitTestFrame Construct && Destruct realization ]
// ================================================================================================ //


// ================================================================================================ //
// ==  Class CUnitTestFrame operator realization                                                 == //
// ================================================================================================ //
// [ Class CUnitTestFrame operator realization ] {{{

// ================================================================================================ //
// ==  Methord : CUnitTestFrame::operator = ()                                                   == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Assignment operation
// ==  Return  : CUnitTestFrame&  - [O] this object
inline vm::CUnitTestFrame& vm::CUnitTestFrame::operator = ( const CUnitTestFrame &obj )
// {{{
{
    return *this;
}
// }}} End of func CUnitTestFrame::~CUnitTestFrame()
// ================================================================================================ //

// }}} ![ Class CUnitTestFrame operator realization ]
// ================================================================================================ //


// ================================================================================================ //
// ==  Class CUnitTestFrame Functional realization                                               == //
// ================================================================================================ //
// [ Class CUnitTestFrame Functional realization ] {{{

// ================================================================================================ //
// ==  Methord : CUnitTestFrame:::Run(...)                                                       == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Run all unit test
// ==  Return  : void             - [O] Nothing for return
inline void vm::CUnitTestFrame::Run(  )
// {{{
{
    Regist();
    
    tListItor loIter = mListUnits.begin();
    for ( ;loIter!=mListUnits.end(); loIter++ )
    {
        CUnit* lpFunc = (*loIter);
        Log( vT("\n") );
        Log( vT("======================================================================================\n"));
        Log( vT("%s is running ... \n"), lpFunc->mszName );
        Log( vT("--------------------------------------------------------------------------------------\n"));
        Log( vT("\n"));
    
        bool lbRet = lpFunc->todo();
    
        Log( vT("\n"));
        Log( vT("--------------------------------------------------------------------------------------\n"));
        if  ( lbRet == true )
        {
            Log( vT("%s is %s\n"), lpFunc->mszName, vT("Succeed"));
        }
        else
        {
            Log( vT("%s is %s\n"), lpFunc->mszName, vT("Failed"));
        }
         // End of if () ...
        Log( vT("======================================================================================\n") );
        Log( vT("\n") );
    } // End of for( ; loIter..
}
// }}} end of func CUnitTestFrame:::Run(...)
// ================================================================================================ //

// ================================================================================================ //
// ==  Methord : CUnitTestFrame::Log(...)                                                        == //
// == ------------------------------------------------------------------------------------------ == //
// ==  Brief   : Write text to console
// ==  Return  : void             - [O] Nothing for return
// ==  Params  : cpFmt            - [I] text format string
// ==            ...              - [I] text format string paramters
inline void vm::CUnitTestFrame::Log( _vIn_ const tchar* const cpFmt, _vIn_ ... )
// {{{
{
    vm::CTerm<2048> loTerminal;
    
    va_list vList;
    va_start(vList, cpFmt);
    loTerminal.Write( cpFmt, vList );
    va_end(vList);
}
// }}} end of func CUnitTestFrame::Log(...)
// ================================================================================================ //

// }}} ! [ Class CUnitTestFrame Functional realization ]
// ================================================================================================ //

// }}} ! CUnitTestFrame realization
// ================================================================================================ //

#endif // ! __CUNITTESTFRAME_H_INL__
// ================================================================================================ //
// ==  Usage :                                                                                   == //
// == ------------------------------------------------------------------------------------------ == //
// [ Usage ] {{{ /*
// }}} */
// ================================================================================================ //
// ==                                        End of file                                         == //
// ================================================================================================ //
